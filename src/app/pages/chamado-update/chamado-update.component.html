<div class="container mat-elevation-z8">
    <h1 class="full-width">Actualizar chamado</h1>
    <img class="full-width" src="assets/img/chamado-create.svg" >

    <form class="form">
        <mat-form-field class="full-width" appearance="outline">
            <mat-label>Titulo do Chamado</mat-label>
            <input matInput 
            required
            [formControl]="titulo"
            name="titulo"
            [(ngModel)]="chamado.titulo"
            placeholder="Ex. Manutencao de Pc">
          </mat-form-field>

          <div class="order-field" >

            <mat-form-field appearance="outline" >
                <mat-label>Status ({{ getStatus(chamado.status) }})</mat-label>
                <mat-select 
                [formControl]="status"
                name="status"
                [(ngModel)]="chamado.status"
                required >
                  <mat-option value="1">ABERTO</mat-option>
                  <mat-option value="2">EM ANDAMENTO</mat-option>
                  <mat-option value="3">ENCERRADO</mat-option>
                </mat-select>
              </mat-form-field>
    
              <mat-form-field appearance="outline" >
                <mat-label>Prioridade ({{getPrioridade(chamado.prioridade)}})</mat-label>
                <mat-select
                [formControl]="prioridade"
                name="prioridade"
                [(ngModel)]="chamado.prioridade"
                required>
                  <mat-option value="1">BAIXA</mat-option>
                  <mat-option value="2">MEDIA</mat-option>
                  <mat-option value="3">ALTA</mat-option>
                </mat-select>
              </mat-form-field>

          </div>

          <div class="tecnico">


            <mat-form-field appearance="outline" class="full-width" >
                <mat-label>Tecnico ({{chamado.tecnico?.nome}})</mat-label>
                <mat-select
                [formControl]="tecnico"
                name="tecnico"
                [(ngModel)]="tecnicoID"
                required >
                  <mat-option *ngFor="let tec of tecnicos" value="{{tec.id }}">{{tec.nome}}</mat-option>
                 
                </mat-select>
              </mat-form-field>


          </div>
          <div class="cliente">


            <mat-form-field appearance="outline" class="full-width" >
                <mat-label>Cliente ({{chamado.cliente?.nome}})</mat-label>
                <mat-select  
                [formControl]="cliente"
                name="cliente"
                [(ngModel)]="clienteID"
                
                required >
                  <mat-option 
                    *ngFor="let cli of clientes" 
                    
                    value="{{cli.id }}">
                    {{cli.nome}}
                </mat-option>
                 
                </mat-select>
              </mat-form-field>


          </div>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Descricao</mat-label>
            <textarea 
            class="descricao"
            required
            [formControl]="descricao"
            [(ngModel)]="chamado.observacao"
            name="descricao"
             matInput></textarea>
          </mat-form-field>

       

          <button mat-flat-button 
          [disabled]="!validate()"
          class="btn-container"
          (click)="update()"  
          color="primary">Actualizar</button>
          <button mat-stroked-button routerLink="../"olor="warn">Cancelar</button>
        
          
    </form>
      


</div>